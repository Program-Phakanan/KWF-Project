# ЁЯФз р╕зр╕┤р╕Шр╕╡р╕гр╕▒р╕Щ SQL Script р╣Бр╕Ър╕Ър╣Бр╕вр╕Бр╣Др╕Яр╕ер╣М

## тЪая╕П р╕Ыр╕▒р╕Нр╕лр╕▓: Syntax Error р╣Ар╕бр╕╖р╣Ир╕нр╕гр╕▒р╕Щ SQL р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕Юр╕гр╣Йр╕нр╕бр╕Бр╕▒р╕Щ

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й:** р╕гр╕▒р╕Щ SQL р╣Бр╕Ър╕Ър╣Бр╕вр╕Бр╣Ар╕Ыр╣Зр╕Щ 3 р╕кр╣Ир╕зр╕Щ

---

## ЁЯУЛ р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕гр╕гр╕▒р╕Щ (р╕Чр╕│р╕Хр╕▓р╕бр╕ер╕│р╕Фр╕▒р╕Ъ)

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 1: р╕кр╕гр╣Йр╕▓р╕Зр╕Хр╕▓р╕гр╕▓р╕З

1. р╣Ар╕Ыр╕┤р╕Ф Supabase Dashboard тЖТ **SQL Editor**
2. р╕Др╕ер╕┤р╕Б **+ New query**
3. р╣Ар╕Ыр╕┤р╕Фр╣Др╕Яр╕ер╣М `sql/01_create_tables.sql`
4. **р╕Др╕▒р╕Фр╕ер╕нр╕Бр╣Вр╕Др╣Йр╕Фр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф** р╕зр╕▓р╕Зр╣Гр╕Щ SQL Editor
5. р╕Др╕ер╕┤р╕Б **Run** (р╕лр╕гр╕╖р╕нр╕Бр╕Ф Ctrl+Enter)
6. тЬЕ р╕гр╕нр╕Ир╕Щр╣Ар╕лр╣Зр╕Щ **Success**

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 2: р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ RLS Policies

1. р╕Др╕ер╕┤р╕Б **+ New query** (р╕кр╕гр╣Йр╕▓р╕З query р╣Гр╕лр╕бр╣И)
2. р╣Ар╕Ыр╕┤р╕Фр╣Др╕Яр╕ер╣М `sql/02_setup_rls.sql`
3. **р╕Др╕▒р╕Фр╕ер╕нр╕Бр╣Вр╕Др╣Йр╕Фр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф** р╕зр╕▓р╕Зр╣Гр╕Щ SQL Editor
4. р╕Др╕ер╕┤р╕Б **Run**
5. тЬЕ р╕гр╕нр╕Ир╕Щр╣Ар╕лр╣Зр╕Щ **Success**

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 3: р╣Ар╕Юр╕┤р╣Ир╕бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З

1. р╕Др╕ер╕┤р╕Б **+ New query** (р╕кр╕гр╣Йр╕▓р╕З query р╣Гр╕лр╕бр╣И)
2. р╣Ар╕Ыр╕┤р╕Фр╣Др╕Яр╕ер╣М `sql/03_insert_data.sql`
3. **р╕Др╕▒р╕Фр╕ер╕нр╕Бр╣Вр╕Др╣Йр╕Фр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф** р╕зр╕▓р╕Зр╣Гр╕Щ SQL Editor
4. р╕Др╕ер╕┤р╕Б **Run**
5. тЬЕ р╕гр╕нр╕Ир╕Щр╣Ар╕лр╣Зр╕Щ **Success**

---

## тЬЕ р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М

р╕лр╕ер╕▒р╕Зр╕Ир╕▓р╕Бр╕гр╕▒р╕Щр╕Др╕гр╕Ър╕Чр╕▒р╣Йр╕З 3 р╣Др╕Яр╕ер╣Мр╣Бр╕ер╣Йр╕з:

1. р╣Др╕Ыр╕Чр╕╡р╣И **Table Editor** тЖТ р╣Ар╕ер╕╖р╕нр╕Бр╕Хр╕▓р╕гр╕▓р╕З `rooms`
   - тЬЕ р╕Др╕зр╕гр╣Ар╕лр╣Зр╕Щ **5 р╕лр╣Йр╕нр╕Зр╕Ыр╕гр╕░р╕Кр╕╕р╕б**

2. р╣Ар╕ер╕╖р╕нр╕Бр╕Хр╕▓р╕гр╕▓р╕З `departments`
   - тЬЕ р╕Др╕зр╕гр╣Ар╕лр╣Зр╕Щ **5 р╣Бр╕Ьр╕Щр╕Б**

3. р╣Ар╕ер╕╖р╕нр╕Бр╕Хр╕▓р╕гр╕▓р╕З `equipment`
   - тЬЕ р╕Др╕зр╕гр╣Ар╕лр╣Зр╕Щ **6 р╕нр╕╕р╕Ыр╕Бр╕гр╕Ур╣М**

4. р╣Ар╕ер╕╖р╕нр╕Бр╕Хр╕▓р╕гр╕▓р╕З `buildings`
   - тЬЕ р╕Др╕зр╕гр╣Ар╕лр╣Зр╕Щ **3 р╕нр╕▓р╕Др╕▓р╕г**

5. р╣Ар╕ер╕╖р╕нр╕Бр╕Хр╕▓р╕гр╕▓р╕З `bookings`
   - тЬЕ р╕Др╕зр╕гр╣Ар╕лр╣Зр╕Щ **3 р╕Бр╕▓р╕гр╕Ир╕нр╕З**

---

## ЁЯзк р╕Чр╕Фр╕кр╕нр╕Ър╕гр╕░р╕Ър╕Ъ

1. р╕Бр╕ер╕▒р╕Ър╕бр╕▓р╕Чр╕╡р╣И `http://localhost:5173`
2. **Refresh р╕лр╕Щр╣Йр╕▓ (F5)**
3. тЬЕ р╕Др╕зр╕гр╣Ар╕лр╣Зр╕Щр╕лр╣Йр╕нр╕Зр╕Ыр╕гр╕░р╕Кр╕╕р╕б 5 р╕лр╣Йр╕нр╕З!
4. р╕ер╕нр╕Зр╣Ар╕Юр╕┤р╣Ир╕бр╕нр╕╕р╕Ыр╕Бр╕гр╕Ур╣Мр╣Гр╕лр╕бр╣И
5. **Refresh р╕нр╕╡р╕Бр╕Др╕гр╕▒р╣Йр╕З**
6. тЬЕ р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕░р╣Др╕бр╣Ир╕лр╕▓р╕в!

---

## ЁЯУБ р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М SQL

```
Meeting-room/
тФЬтФАтФА sql/
тФВ   тФЬтФАтФА 01_create_tables.sql   тЖР р╕кр╕гр╣Йр╕▓р╕Зр╕Хр╕▓р╕гр╕▓р╕З
тФВ   тФЬтФАтФА 02_setup_rls.sql        тЖР р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ RLS
тФВ   тФФтФАтФА 03_insert_data.sql      тЖР р╣Ар╕Юр╕┤р╣Ир╕бр╕Вр╣Йр╕нр╕бр╕╣р╕е
тФФтФАтФА reset_database.sql          тЖР р╣Др╕Яр╕ер╣Мр╣Ар╕Фр╕┤р╕б (р╕Цр╣Йр╕▓р╕бр╕╡ error р╣Гр╕лр╣Йр╣Гр╕Кр╣Йр╣Др╕Яр╕ер╣Мр╣Бр╕вр╕Бр╣Бр╕Чр╕Щ)
```

---

## ЁЯЪи р╕Цр╣Йр╕▓р╕вр╕▒р╕Зр╕бр╕╡ Error

### Error: "relation already exists"

**р╕лр╕бр╕▓р╕вр╕Др╕зр╕▓р╕бр╕зр╣Ир╕▓:** р╕Хр╕▓р╕гр╕▓р╕Зр╕бр╕╡р╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕з

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й:**
- р╕Вр╣Йр╕▓р╕бр╣Др╕Ыр╕гр╕▒р╕Щр╣Др╕Яр╕ер╣Мр╕Цр╕▒р╕Фр╣Др╕Ы (02_setup_rls.sql)
- р╕лр╕гр╕╖р╕нр╕гр╕▒р╕Щр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕ер╕Ър╕Хр╕▓р╕гр╕▓р╕Зр╕Бр╣Ир╕нр╕Щ:
  ```sql
  DROP TABLE IF EXISTS bookings CASCADE;
  DROP TABLE IF EXISTS rooms CASCADE;
  DROP TABLE IF EXISTS equipment CASCADE;
  DROP TABLE IF EXISTS buildings CASCADE;
  DROP TABLE IF EXISTS departments CASCADE;
  ```

### Error: "policy already exists"

**р╕лр╕бр╕▓р╕вр╕Др╕зр╕▓р╕бр╕зр╣Ир╕▓:** Policy р╕бр╕╡р╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕з

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й:**
- р╕Вр╣Йр╕▓р╕бр╣Др╕Ыр╕гр╕▒р╕Щр╣Др╕Яр╕ер╣Мр╕Цр╕▒р╕Фр╣Др╕Ы (03_insert_data.sql)

### Error: "duplicate key value"

**р╕лр╕бр╕▓р╕вр╕Др╕зр╕▓р╕бр╕зр╣Ир╕▓:** р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕бр╕╡р╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕з

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й:**
- р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕Чр╕│р╕нр╕░р╣Др╕г р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Бр╕ер╣Йр╕з!

---

## ЁЯУМ р╕кр╕гр╕╕р╕Ы

**р╕Чр╕│р╣Др╕бр╕Хр╣Йр╕нр╕Зр╣Бр╕вр╕Бр╣Др╕Яр╕ер╣М?**
- р╕Зр╣Ир╕▓р╕вр╕Хр╣Ир╕нр╕Бр╕▓р╕г debug
- р╕гр╕╣р╣Йр╕зр╣Ир╕▓р╕кр╣Ир╕зр╕Щр╣Др╕лр╕Щр╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓
- р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕гр╕▒р╕Щр╕Чр╕╡р╕ер╕░р╕кр╣Ир╕зр╕Щр╣Др╕Фр╣Й

**р╕ер╕│р╕Фр╕▒р╕Ър╕Бр╕▓р╕гр╕гр╕▒р╕Щ:**
1. тЬЕ р╕кр╕гр╣Йр╕▓р╕Зр╕Хр╕▓р╕гр╕▓р╕З (`01_create_tables.sql`)
2. тЬЕ р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ RLS (`02_setup_rls.sql`)
3. тЬЕ р╣Ар╕Юр╕┤р╣Ир╕бр╕Вр╣Йр╕нр╕бр╕╣р╕е (`03_insert_data.sql`)

**р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М:**
- тЬЕ Database р╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ
- тЬЕ р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Др╕бр╣Ир╕лр╕▓р╕вр╕лр╕ер╕▒р╕З Refresh
- тЬЕ р╕гр╕░р╕Ър╕Ър╕Чр╕│р╕Зр╕▓р╕Щр╕Ыр╕Бр╕Хр╕┤

---

**р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕:** р╕лр╕ер╕▒р╕Зр╕Ир╕▓р╕Бр╕гр╕▒р╕Щр╕Др╕гр╕Ър╕Чр╕▒р╣Йр╕З 3 р╣Др╕Яр╕ер╣Мр╣Бр╕ер╣Йр╕з р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Ар╕Хр╣Зр╕бр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ъ! ЁЯОЙ
